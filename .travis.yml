sudo: false

language: node_js

node_js:
  - '6'

branches:
  only:
    - master

cache:
  directories:
    - node_modules

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

install:
  - npm config set spin false
  - npm config set loglevel http
  - npm install

script:
  - npm test

after_script:
  - ./build/print_logs.sh

addons:
sauce_connect:
  username: "englercj"
  access_key:
    secure: "w6dSVFBODPj+uU3VMwmbPc1AxEvgWowisQhJJD1Gdra22pbDxt3ek9pQCWkB6FA8Gx6nPBuCxZ02T856KdSz4YouKRn5dmty4MJxn5yfyBWoa42I03o5DTTQpoZMYYrFZlH5HyLSjxDOKbfYYjytA/IS2BhfUdLOlRcCDrhj4OVNkwv5lWmhr4zTltOqZKBsR/z8OlhUegKzDyeIBKdKJOjaAjC8TH6uH5z7Bbzbw/b4SyTD4KhSJ2FYVRW7n0N2kzCPdsKJ9MMa7WpBN3WKiAC0WCCnl5a5vV2e/m3vImJk4xnU7d9JowzkQ1PMsYOPd3eafHsnaFeygC4qjFJq4tI13kwqbA0RGoekoSB/v2GXQuTebaVQhZcxfk8Z6REpBBM65A/BAHwQ4YNoCdT2ufYyGW+Wc78ljyNA9Ld25oYlr8uhO+Z5uymn6a2ft3m71mOO7/WBCmYB4aHnrIs6D0FqOLtEz+miOuOf0D3y0nifhOfAvPhOOj1SuVjOQYohGpGzpSOKMAVLlwjZjBlTBbUDSxtNObDQi7JmiCwKo4eosEp+lfPsAI5FWufTCpvClq5FFQc7XckWzBti6YMvxdp35/TPw+GkVi25hMMQ2daJVSQROycQUo5GMrnkVuL9M1pcl98bUB8Hyb2v0PCqUmWCBvfD9u7C3PB1kYh04BY="

env:
  global:
    - LOGS_DIR=.

# notifications:
#   webhooks:
#     urls:
#       - https://webhooks.gitter.im/e/d2120f3f2bb39a4531b2
#     on_success: always  # options: [always|never|change] default: always
#     on_failure: always  # options: [always|never|change] default: always
#     on_start: always    # default: false
